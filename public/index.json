[
{
	"uri": "/ssh/configuration/",
	"title": "Konfiguration",
	"tags": [],
	"description": "",
	"content": " Um sich mit dem pi zu verbinden, ohne ein passwort eingeben zu müssen. Muss zunächst eine Verschlüsselung eingerichtet werden. Hierzu gibt es je Verbindung einen öffentlichen und einen privaten schlüssel. Der öffentliche Schlüssel muss auf dem pi hinterlegt werden, wohingegen der private auf dem PC/Gerät verbleibt mit dem die Verbindung zu pi aufgebaut werden soll.\nZum generieren der Schlüssel gibt es verschiedene möglichkeiten\nSchlüssen mit \u0026ldquo;putty\u0026rdquo; erstelen. In der Programmsammlung von putty ist auch ein Key-Generator enthalte \u0026lsquo;puttygen.exe\u0026rsquo;. Mit diesem lässt sich ein öffentlicher (kommte auf den pi) und ein privater (verbleibt auf dem Gerät) erstellt werden.\nöffentlichen Schlüssel auf pi übertragen Zunächst müssen wir und auf dem pi mit dem Benutzer anmelder, unter dem später auch die Verbindung laufen soll. In unserem Fall melden wir auns also unter pi an. Für diesen Benutzer müssen wir zunächst in seinem Homeverzeichniss einen Ordner und eine Datei erstellen.\n$ mkdir ~/.ssh $ touch ~/.ssh/authorized_keys  Jetzt öffnen wir diesen datei nano ~/.ssh/authorized_keys und kopieren den Inhal des public key hinein. Dabei müssen wir darauf achten, dass alles in einer Zeile geschrieben steht.\nFür Olaf mit --text läst sich ein Befehl für copy-und paste freigeben.\n"
},
{
	"uri": "/docker/rpi-hugo/",
	"title": "rpi-hugo",
	"tags": [],
	"description": "hugo docker image für raspberry pi",
	"content": " Docker Image mit Hugo v2.6 für Raspberry pi Unter [DockerHub] finden sich jede Menge gut images für Docker. Darunter finden sich auch einige, die bereits für den Raspberry übersetzt wurden, denn standartmäßig ist alles nur für Linux 64bit systeme gedacht. Die Gruppe hypriot hat schon seit einigen Jahren sich mit dem Thema Docker ung Raspberry auseinander gesetzt. So findet sich unter dockerhub/hypriot einige tolle repos.\nDarunter war auch ein repo für hypriot/rpi-hugo . Doch leider musste ich schnell feststellen, dass es zu alt ist und seit zwei Jaren auf Version 0.14 stehengeblieben ist. Zum Glück ist alles open-Source und so fand sich im Github reousitory alle nötigen dateien um ein neues image mit version v2.6 zu erstellen. Damit auch andere user etwas davon haben, habe ich es unter grembold/rpi-hugo wieder in DockerHub abgelegt.\nHier die wichtigsten befehle für das rpi-hugo repo:\nhugo webseite initialisieren mkdir myblog \u0026amp;\u0026amp; cd myblog docker run -rm -v $(pwd):/www grembold/rpi-hugo new site .  Mit dem ersten Befehl wird ein Verzeichniss erstellt, dindem später alle Dateien für die Webseite gesammelt werden. Mit dem zweiten Befehl wird das docker image ausgeführt und hugo erstellt im aktuellen Verzeichniss alle nöätigen Dateien und Ordner. Der Befehl -rm löscht den container nach dem ausführen gleich wieder. Mit -v $(pwd):/www wird das aktuelle Arbeitsverzeichniss als Volume in den docker container eingehängt. Die kryptische Anweisung $(pwd) ist dabei eine Umgebungsvariable von linux. Mit echo $(pwd) kann man sich den Inhalt anzeigen lassen.\nhugo webseite generieren docker run -rm -v $(pwd):/www grembold/rpi-hugo  Dieser Befehl generiert nun aus den Inhalten unter myblog/content/ die HTML-Seiten und legt alle benötigten daten unter myblog/public ab.\nhugo webseite testen docker run -d -p 1313:1313 -v $(pwd):/www hypriot/rpi-hugo server -b http://\u0026lt;ip-of-your-rpi\u0026gt;/ --bind=0.0.0.0 -w -D  Hiermit lässt sich die Webseite vorher einmal testen. Dabei werden durch die Option -D auch Seiten generiert die noch als Entwurf draft=truegekennzeichnet sind generiert.\n"
},
{
	"uri": "/netzwerk/",
	"title": "Netzstruktur",
	"tags": [],
	"description": "",
	"content": "  Struktur  \n "
},
{
	"uri": "/web/letsencrypt/",
	"title": "Let´s Encrypt",
	"tags": [],
	"description": "Mit Let´s Encrypt ein Zertifikat erstellen",
	"content": " certbot installieren Wie das Docker image installiert wird habe ich bereits [hier]/docker/certbot/ beschrieben. Nun geht es darum ein Zertifikat für die eigene Domain zu erhalten.\nLet´s Encrypt Zertifikate für nginx installieren Erst wenn Sie sicher sind, dass alles klappt, entfernen Sie zuletzt die Option \u0026ndash;staging und wiederholen das Kommando nochmals zur Installation der endgültigen Zertifikate. Das Abrufen der Zertifikate läuft folgender massen ab: * Der eigene Webserver läuft und ist unter meineDomain:80 erreichbar. * Certbot erstell im www-Verzeichnis des Servers einen versteckten Ordner .well-known und einige Dateien * certbot prüft bei Let´s Encrypt, ob diese Dateien erreichbar sind. * ist dies erfolgreich, wird das Zertifikat unter /etc/letsencrypt/meineDomainabgelegt.\nDamit dies nun über das Docker Image funktioniert, müssen wir diesem zwei Verzeichnisse mitgeben. Das erste ist das WWW-Verzeichnis vom Webserver und das zweite ein Verzeichnis, indem der certbot die erstellten Zertifikate ablegen kann.\ndocker run --rm -v $CERTS_DIR:/etc/letsencrypt -p 80:80 --name certbot napnap75/rpi-certbot:latest certbot certonly --standalone --standalone-supported-challenges http-01 -t -n --agree-tos -m $EMAIL -d $HOST  Startet den certbot im \u0026ldquo;interaktiven\u0026rdquo; modus\ndocker run -it --rm \\ -v /home/pi/magic-broccoli/public:/var/www/ \\ -v /home/pi/nginx-proxy/certs:/etc/letsencrypt --name certbot bcecchinato/certbot-rpi \\ certonly --webroot -w /var/www/ -d blume.goip.de -d www.blume.goip.de -d doc.blume.goip.de  Zertifikat und Konfiguration testen HTTPS-Konfiguration noch über die Seite https://www.ssllabs.com prüfen lassen.\nZertifikate automatisch erneuern lassen \u0026quot;Volumes\u0026quot;: { \u0026quot;/etc/letsencrypt\u0026quot;: {}, \u0026quot;/sys/fs/cgroup\u0026quot;: {}, \u0026quot;/var/lib/letsencrypt\u0026quot;: {}  Zertifikate sichern Nun hat man es endlich geschafft und hält die eigenen TLS-Zertifikate in der Hand \u0026hellip; naja im Ordner. Doch Wo legt man diese hin, damit sie nicht verloren gehen. Sicher man kann sich ja jetzt jeder Zeit wieder neue machen und spätestens nach 3 Monaten ist dies auch nötig, doch möchte man das ein kleines certbot renewreicht und man nicht alles von vorn machen muss. Der Certbot hat alles nötige in ein Verzeichnis gepackt, dies müssten wir nur noch zippen und fertig, \u0026hellip; doch ganz so leicht ist es dann doch nicht. Die Zertifikate und ordner sind nur für den root lesbar und sollten es auch bleiben. Mit einem einfachen Zip würden die Benutzerrechte verloren gehen. Daher muss das Verzeichnis zunächst mit tar als eine Datei zusammenfasst werden und kann handlich komprimiert werden.\nsudo tar cf - certs/ | 7z a -si blume.goip.de.cert.20170908.7z  Das Entpacken eines solchen Archives läuft dann wieder in umgekehrter Reihenfolge ab (Achtung: Das Zielverzeichnis ZIELPFAD muss vorhanden sein!):\nsudo 7za x -so ERGEBNIS.tar.7z | tar xf - -C ZIELPFAD --numeric-owner  Quellen  https://letsencrypt.org/ https://certbot.eff.org/docs https://certbot.eff.org/#debianjessie-nginx https://kofler.info/lets-encrypt-zertifikate-fuer-web-und-mail-unter-ubuntu-16-04/ https://blog.doenselmann.com/nginx-und-lets-encrypt-auf-raspberry-pi/  "
},
{
	"uri": "/docker/certbot/",
	"title": "certbot-rpi",
	"tags": [],
	"description": "Raspberry Pi compatible Docker base image with Let´s Encrypt",
	"content": " Um sein aktuelles SSL-Zertifikat für meine Webseite zu erhalten, ist es am einfachsten auf ein vorhandenes Docker Image zurückzugreifen.\nWas ist Let´s Encrypt? Let´s Encrypt ist eine Zertifizierungsstelle die die erstellung von kostenlosen TLS-Zertifikaten anbietet. Ziel des Projektes ist es, jeden Internetdienst eine einfache Verschlüsselung anbieten kann. Dabei ist der Prozess zur erstellung des Zertifikats über den so genannten certbot automatisiert.\ncertbot-rpi on DockerHub certbot-rpi on GitHub\nHier eine kurze anleitung, wie das Docker Image verwendet wird.\nPull des Image docker pull pull bcecchinato/certbot-rpi  Aktuelle Version von Let´s Encrypt certbot abrufen docker run -it --rm bcecchinato/certbot-rpi --help  "
},
{
	"uri": "/docker/",
	"title": "docker",
	"tags": [],
	"description": "",
	"content": " Docker Also auf dem Raspberry Pi lässt sich zum Glück inzwischen auch docker und auch swarm ausführen.\nDabei ist zu beachten dass die images aus  DockerHub Auf dieser Seite möchte ich Anleitungen für verschiedene Bastelprojekte von mir dokumentieren.\n rpi-hugo  hugo docker image für raspberry pi\n certbot-rpi  Raspberry Pi compatible Docker base image with Let´s Encrypt\n "
},
{
	"uri": "/ssh/",
	"title": "SSH",
	"tags": [],
	"description": "",
	"content": " Secure Shell Mit Hilfe der Secure Shell (SSH) kann mann sich mit der Console des Raspberry Pi verbinden und Linux-Befehle auf dem pi ausführen.\n Konfiguration  Um sich mit dem pi zu verbinden, ohne ein passwort eingeben zu müssen. Muss zunächst eine Verschlüsselung eingerichtet werden. Hierzu gibt es je Verbindung einen öffentlichen und einen privaten schlüssel. Der öffentliche Schlüssel muss auf dem pi hinterlegt werden, wohingegen der private auf dem PC/Gerät verbleibt mit dem die Verbindung zu pi aufgebaut werden soll. Zum generieren der Schlüssel gibt es verschiedene möglichkeiten Schlüssen mit \u0026ldquo;putty\u0026rdquo; erstelen. In der Programmsammlung von putty ist auch ein Key-Generator enthalte \u0026lsquo;puttygen.\n "
},
{
	"uri": "/web/",
	"title": "web",
	"tags": [],
	"description": "",
	"content": "A bunch of Shortcodes are available with this theme :\nMonitoren wie lange der eingene Server verfügbar war Beispiel trashserver.net UpTimeRobot\nWeb Server Survey\n(FreeFileSync)[https://www.freefilesync.org/] solte ich mir mal ansehen, um die Daten mit der NAS bazugleichen.\nSo, damit ich das nicht immer wieder vergesse. Im Repository dieser webseite sind die Themes als git submoldule eingebunden. Damit die aktuallisiert werden , muss folgenden ausgeführt werden\ngit submodule foreach git pull  Will man ein neues theme hinzufügen, som muss man mit $ git submodule add https://github.com/sethmacleod/docdock.git themes/docock in das eigene repository laden und anschließend in die initgit.sh integrieren $ git submodule init $ git submodule update\n Let´s Encrypt  Mit Let´s Encrypt ein Zertifikat erstellen\n "
},
{
	"uri": "/netzwerk/struktur/",
	"title": "Struktur",
	"tags": [],
	"description": "",
	"content": " Datenfluss   Related files   NetzStruktur_ReversProxy.pptx  (66 ko)   Quellen  autrunk@wordpress antiun codingpedia  "
},
{
	"uri": "/",
	"title": "DocDock für Blume",
	"tags": [],
	"description": "",
	"content": " Zurück zum Anfang Diese Seite werde ich in die Subdomain doc.blume.goip.de auslagern. Auf der ursprünglichen Seite blume.goip.de, sowie www.blume.goip.de wirde eine einfache Landingpage erstellt, die nur die Links zu diesem und weiteren Projekten enthält.\nGruß Olaf\nOlafs Dokumentation für PC und Pastelprojekte Auf dieser Seite möchte ich Anleitungen für verschiedene Bastelprojekte von mir dokumentieren.\nVieleicht nutze ich einen Teil als block, um den zeitlichen Fortschritt zu dokumentieren und später daraus Tutorials oder Anleitungen zu erstellen.\nDokumentations Webseite Diese Dokumentation ist eine mit hugo statisch generierte Webseite: mit dem Einfachen Befehl hugo\nAutomated deployments Automatically published and hosted thanks to Netlify.\nRead more about Automated HUGO deployments with Netlify\n Netlify builds, deploys, and hosts frontends.  "
},
{
	"uri": "/_header/",
	"title": "header",
	"tags": [],
	"description": "",
	"content": "Blume Dokumentation\n"
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/impressum/",
	"title": "Impressum",
	"tags": [],
	"description": "Verantwortlich für dieses Angebot gemäß § 5 TMG / § 55 RStV",
	"content": " Impressum Verantwortlich für dieses Angebot gemäß § 5 TMG / § 55 RStV: Olaf Blume Franz-Schubert-Str. 2\n21365 Adendorf\nemail: olaf-petersen@qmx.de\nHaftung für Links Unser Angebot enth\u0026auml;lt Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb k\u0026ouml;nnen wir f\u0026uuml;r diese fremden Inhalte auch keine Gew\u0026auml;hr \u0026uuml;bernehmen. F\u0026uuml;r die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich. Die verlinkten Seiten wurden zum Zeitpunkt der Verlinkung auf m\u0026ouml;gliche Rechtsverst\u0026ouml;\u0026szlig;e \u0026uuml;berpr\u0026uuml;ft. Rechtswidrige Inhalte waren zum Zeitpunkt der Verlinkung nicht erkennbar.\nEine permanente inhaltliche Kontrolle der verlinkten Seiten ist jedoch ohne konkrete Anhaltspunkte einer Rechtsverletzung nicht zumutbar. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Links umgehend entfernen.\n"
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]